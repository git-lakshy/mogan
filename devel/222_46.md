# 222_46: Fix font size display in status bar and font size input


### How to Test 
Enter a decimal font size in the font size input field and check if the font size is displayed correctly in the status bar.
(multiple of 0.5)


### Issue #2808 :
Decimal font sizes were not displayed correctly in the status bar and font size input.

### What
To fix, modified the font size input and status bar to display correct decimal font sizes.

**Changes made:**

1. **TeXmacs/progs/generic/document-edit.scm**: Modified `set-init-env` function to automatically round font-base-size inputs to the nearest 0.5 (e.g., 10.3 → 10.5, 10.7 → 10.5). Added type safety checks to ensure only valid string inputs are processed.

2. **src/Edit/Interface/edit_footer.cpp**: 
   - Changed `get_env_int(FONT_BASE_SIZE)` to `get_env_double(FONT_BASE_SIZE)` to preserve decimal values
   - Removed integer casting `(int)((base_sz + 0.5) * sz)` and replaced with direct decimal display `base_sz * sz`

### Why 

This fixes both issues at their source:
- Input validation ensures all font sizes are properly rounded when set
- Display changes preserve and show the decimal values correctly
- Both top and bottom bars now show identical, correctly rounded font sizes

* Author: Lakshy
* Date: 27-02-2026